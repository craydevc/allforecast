<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <title>Forecast Chart</title>

  <!-- Firebase v8 (stable for simple apps) -->
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>

  <style>
    body {
      font-family: Arial;
      background: #111;
      color: #eee;
      margin: 0;
    }

    #authBox {
      max-width: 320px;
      margin: 80px auto;
      padding: 20px;
      background: #1c1c1c;
      border-radius: 8px;
    }

    input, button {
      width: 100%;
      margin: 6px 0;
      padding: 10px;
      font-size: 14px;
    }

    button {
      cursor: pointer;
    }

    #chartSection {
      display: none;
    }

    #logoutBtn {
      position: fixed;
      top: 10px;
      right: 10px;
      width: auto;
    }
  </style>
</head>

<body>

<!-- ðŸ” AUTH UI -->
<div id="authBox">
  <h3>Login / Signup</h3>

  <input id="email" type="email" placeholder="Email">
  <input id="password" type="password" placeholder="Password">

  <button id="loginBtn">Login</button>
  <button id="signupBtn">Sign Up</button>
  <button id="forgotBtn">Forgot Password</button>

  <hr>

  <button id="googleBtn">Continue with Google</button>
</div>

<!-- ðŸ“Š CHART UI -->
<div id="chartSection">
  <button id="logoutBtn">Logout</button>

  <!-- Your existing chart wrapper -->
  <div id="chartWrapper" style="position:relative; width:1900px; height:1100px;">
    <iframe
      src="https://ssltvc.investing.com/?pair_ID=8985&interval=300"
      width="100%"
      height="100%"
      frameborder="0">
    </iframe>

    <!-- Forecast overlay -->
    <img
      id="forecastOverlay"
      src="chart.PNG"
      style="position:absolute; top:0; left:0; opacity:0.35;">
  </div>
</div>

<script>
  // ðŸ”¥ Firebase config
  const firebaseConfig = {
    

    apiKey: "AIzaSyA22RcIFt5vPfhSUoKMFl1ja6MCXKxv06k",
Â  Â  authDomain: "huntorfarm.firebaseapp.com",
Â  Â  projectId: "huntorfarm",
Â  Â  storageBucket: "huntorfarm.firebasestorage.app",
Â  Â  messagingSenderId: "568472349794",
Â  Â  appId: "1:568472349794:web:d753d6976166b968ce753b"
  };

  firebase.initializeApp(firebaseConfig);
  const auth = firebase.auth();

  // ðŸ” UI refs
  const authBox = document.getElementById("authBox");
  const chartSection = document.getElementById("chartSection");

  const email = document.getElementById("email");
  const password = document.getElementById("password");

  // âœ… Login
  loginBtn.onclick = () => {
    auth.signInWithEmailAndPassword(email.value, password.value)
      .catch(err => alert(err.message));
  };

  // âœ… Signup
  signupBtn.onclick = () => {
    auth.createUserWithEmailAndPassword(email.value, password.value)
      .then(() => alert("Account created"))
      .catch(err => alert(err.message));
  };

  // âœ… Forgot password
  forgotBtn.onclick = () => {
    if (!email.value) {
      alert("Enter email first");
      return;
    }
    auth.sendPasswordResetEmail(email.value)
      .then(() => alert("Password reset email sent"))
      .catch(err => alert(err.message));
  };

  // âœ… Google login
  const provider = new firebase.auth.GoogleAuthProvider();
  googleBtn.onclick = () => {
    auth.signInWithPopup(provider)
      .catch(err => alert(err.message));
  };

  // âœ… Logout
  logoutBtn.onclick = () => auth.signOut();

  // âœ… Auth state listener (MOST IMPORTANT)
  auth.onAuthStateChanged(user => {
    if (user) {
      authBox.style.display = "none";
      chartSection.style.display = "block";
    } else {
      authBox.style.display = "block";
      chartSection.style.display = "none";
    }
  });
</script>

</body>
</html>
