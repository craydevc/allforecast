<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <title>Forecast Chart</title>

  <!-- Firebase v8 (stable for simple apps) -->
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>

  <style>
    body {
      font-family: Arial;
      background: #111;
      color: #eee;
      margin: 0;
    }

    #authBox {
      max-width: 320px;
      margin: 80px auto;
      padding: 20px;
      background: #1c1c1c;
      border-radius: 8px;
    }

    input, button {
      width: 100%;
      margin: 6px 0;
      padding: 10px;
      font-size: 14px;
    }

    button {
      cursor: pointer;
    }

    #chartSection {
      display: none;
    }

    #logoutBtn {
      position: fixed;
      top: 10px;
      right: 10px;
      width: auto;
    }

#controls {
  position: fixed;
  bottom: 20px;
  left: 20px;
  background: rgba(0,0,0,0.75);
  padding: 10px;
  color: #fff;
  z-index: 9999;
}

#controls label {
  display: block;
  font-size: 12px;
  margin-top: 5px;
}


 #forecastOverlay {
    pointer-events: none;
     }
  </style>
</head>

<body>

<!-- ðŸ” AUTH UI -->
<div id="authBox">
  <h3>Login / Signup</h3>

  <input id="email" type="email" placeholder="Email">
  <input id="password" type="password" placeholder="Password">

  <button id="loginBtn">Login</button>
  <button id="signupBtn">Sign Up</button>
  <button id="forgotBtn">Forgot Password</button>

  <hr>

  <button id="googleBtn">Continue with Google</button>
</div>

<!-- ðŸ“Š CHART UI -->


<div id="chartSection">

  <!-- CONTROLS (clickable) -->
  <div id="controls">
    Opacity
    <input type="range" id="opacitySlider" min="0" max="1" step="0.05" value="0.35">

    X
    <input type="range" id="xSlider" min="-500" max="500" value="0">

    Y
    <input type="range" id="ySlider" min="-300" max="300" value="0">

    Zoom
    <input type="range" id="zoomSlider" min="50" max="150" value="100">
  </div>

  <!-- CHART WRAPPER -->
  <div id="chartWrapper">

    <!-- REAL CHART -->
    <iframe
      id="realChart"
      src="https://ssltvc.investing.com/?pair_ID=8985&interval=300">
    </iframe>

    <!-- FORECAST OVERLAY -->
    <img
      id="forecastOverlay"
      src="chart.PNG">
  </div>

</div>


<script>

const opacitySlider = document.getElementById("opacitySlider");
const xSlider = document.getElementById("xSlider");
const ySlider = document.getElementById("ySlider");
const zoomSlider = document.getElementById("zoomSlider");
const forecastOverlay = document.getElementById("forecastOverlay");

function updateOverlay() {
  forecastOverlay.style.opacity = opacitySlider.value;
  forecastOverlay.style.transform =
    `translate(${xSlider.value}px, ${ySlider.value}px) scale(${zoomSlider.value/100})`;
}

opacitySlider.oninput = updateOverlay;
xSlider.oninput = updateOverlay;
ySlider.oninput = updateOverlay;
zoomSlider.oninput = updateOverlay;

  // ðŸ”¥ Firebase config
  const firebaseConfig = {
    

    apiKey: "AIzaSyA22RcIFt5vPfhSUoKMFl1ja6MCXKxv06k",
Â  Â  authDomain: "huntorfarm.firebaseapp.com",
Â  Â  projectId: "huntorfarm",
Â  Â  storageBucket: "huntorfarm.firebasestorage.app",
Â  Â  messagingSenderId: "568472349794",
Â  Â  appId: "1:568472349794:web:d753d6976166b968ce753b"
  };

  firebase.initializeApp(firebaseConfig);
  const auth = firebase.auth();

  // ðŸ” UI refs
  const authBox = document.getElementById("authBox");
  const chartSection = document.getElementById("chartSection");

  const email = document.getElementById("email");
  const password = document.getElementById("password");

  // âœ… Login
  loginBtn.onclick = () => {
    auth.signInWithEmailAndPassword(email.value, password.value)
      .catch(err => alert(err.message));
  };

  // âœ… Signup
  signupBtn.onclick = () => {
    auth.createUserWithEmailAndPassword(email.value, password.value)
      .then(() => alert("Account created"))
      .catch(err => alert(err.message));
  };

  // âœ… Forgot password
  forgotBtn.onclick = () => {
    if (!email.value) {
      alert("Enter email first");
      return;
    }
    auth.sendPasswordResetEmail(email.value)
      .then(() => alert("Password reset email sent"))
      .catch(err => alert(err.message));
  };

  // âœ… Google login
  const provider = new firebase.auth.GoogleAuthProvider();
  googleBtn.onclick = () => {
    auth.signInWithPopup(provider)
      .catch(err => alert(err.message));
  };

  // âœ… Logout
  logoutBtn.onclick = () => auth.signOut();

  // âœ… Auth state listener (MOST IMPORTANT)
  auth.onAuthStateChanged(user => {
    if (user) {
      authBox.style.display = "none";
      chartSection.style.display = "block";
    } else {
      authBox.style.display = "block";
      chartSection.style.display = "none";
    }
  });
</script>

</body>
</html>
